#:kivy 1.0

# NOTA: La clase que hereda de App tiene que tener el mismo nombre que el layout del 
# archivo .kv.

#:import sist_op os
#:import const constantes
#:import dictAdapter kivy.adapters.dictadapter
#:import appModule kivy.app

<SubirCapturasServidorScreen>:
	listado_capturas: listado

    GridLayout:
		id: layout_principal
		orientation: 'vertical'
		cols: 1
		rows: 2

		Label:
			id: titulo
			text: "Seleccione las fallas que desea subir al servidor"
			size_hint:(1,0.05)
			color: 0,0,0,1
			canvas.before:
				Color:
					rgba: const.COLOR_LABELS_RGBA
				Rectangle:
					pos: self.pos
					size: self.size

		
		### ListView para seleccion de las fallas
	    ListView:
	    	id:listado

	    	adapter: dictAdapter.ListAdapter(data = appModule.App.get_running_app().filtrarCapturas(),propagate_selection_to_data=True, args_converter = root.args_converter,selection_mode = 'multiple',allow_empty_selection = False,cls = compItem.CompositeListItem)
	    	
	    	# Tamanio en porcentajes con respecto al widget anterior
	    	size_hint:(1,0.9)

		    
	#Barra de opciones abajo
	GridLayout:
		id: layout_principal
		orientation: 'horizontal'
		cols: 3
		rows: 1
		size_hint:(1,0.05)
		
		#Button:
        #	id: bt_subir_archivos
        #	text: "Seleccionar todo"
        #	on_press: root.seleccionar_todo()
        
	    Button:
        	id: bt_subir_archivos
        	text: "Enviar fallas"
        	on_press: root.enviar_capturas()

        Button:	
        	id: bt_salir
        	on_press: root.volver()
        	text: "Volver"

