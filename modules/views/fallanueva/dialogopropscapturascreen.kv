#:kivy 1.0

#:import const constantes
<DialogoPropsCapturaScreen>:

    nombre_cap: nombre_captura_txt
    dir_chooser: file_chooser
    dir_label: dir_seleccionado_lbl


    GridLayout:
        id: layout_principal
        orientation: 'vertical'
        cols: 1
        rows: 5
        
        Label:
            id: my_label
            size_hint: (1,0.05)
            text: 'Ingrese el nombre del archivo de captura'
            canvas.before:
                Color:
                    rgba: const.COLOR_LABELS_RGBA
                Rectangle:
                    pos: self.pos
                    size: self.size



        #TextInput para el nombre del archivo de captura        
        TextInput:
            id: nombre_captura_txt
            size_hint:(0.5,0.05)
            write_tab: False
            multiline: False
            on_text_validate: root.validar(nombre_captura_txt.text)

        Label:
            id: my_label_1
            size_hint: (1,0.05)
            text: 'Seleccione el directorio para almacenar la captura'
            canvas.before:
                Color:
                    rgba: const.COLOR_LABELS_RGBA
                Rectangle:
                    pos: self.pos
                    size: self.size

        Label:
            id: dir_seleccionado_lbl
            size_hint: (1,0.05)
            text: ''
            canvas.before:
                Color:
                    rgba: const.COLOR_LABELS_RGBA
                Rectangle:
                    pos: self.pos
                    size: self.size

        #FileChooser para el nombre del dir de almacenamiento.
        FileChooserIconView:
            id: file_chooser
            size_hint:(1,0.75)
            #dirselect: True
            multiselect: False

            canvas.before:
                Color:
                    rgba: 0,0,0,1
                Rectangle:
                    pos: self.pos
                    size: self.size

            #on_submit: root.cambiar_directorio()
            #1 tap sobre el archivo
            on_selection: root.seleccionado(file_chooser.selection)
            on_entries_cleared: root.cambio_dir()
            
        GridLayout:
            cols:2
            rows:1
            orientation: 'horizontal'
            size_hint: (1,0.05)
            spacing: [root.width / 3,0]
            #Forzar el ancho de los botones (pixeles)
            col_force_default: True
            col_default_width: root.width / 6

            #Padding izquierdo de botones(pixeles)
            padding: [root.width / 7,0,0,0]
            Button:
                id: boton_continuar
                text: "Continuar"
                on_press: root.menu_falla_nueva()

            Button:
                id: boton_cancelar
                text: "Volver"
                on_press: root.volver()
                


